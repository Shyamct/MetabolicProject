
<div class="container-fluid">


    <h2> Brand Medicine Assign</h2>
    <div class="row">
        <div class="col-md-6">
            <div class="panel panel-info">
                <div class="panel-heading">
                    Brand Medicine Assign
                </div>
                <div class="panel-body">
                    <form name="form" novalidate>
                        <div class="form-row">
                            <div class="form-group col-md-12">
                                <div class="row">
                                    <div class="col-md-6">
                                        <label> Brand Name</label>
                                        <input brand-auto-complete type="text" class="form-control" ng-model="brandName" placeholder="Brand Name" get-unit-by-brand-fn="getUnitByBrandFn(id, dosageFormID, dose, doseUnitID)" />
                                    </div>
                                    <div class="col-md-2">
                                        <label> Dose Form</label>
                                        <select class="form-control" ng-model="ddlDoseForm" ng-init="ddlDoseForm=0">
                                            <option value="0">--Select--</option>
                                            <option ng-repeat="list in doseFormList" value="{{list.id}}">
                                                {{list.doseForm}}
                                            </option>
                                        </select>
                                    </div>
                                    <div class="col-md-2">
                                        <label> Dose</label>
                                        <input type="text" class="form-control" ng-model="dose" placeholder="Dose" onkeypress="isNumeric(true);" />
                                    </div>
                                    <div class="col-md-2">
                                        <label> Unit</label>
                                        <select select2 class="form-control" ng-model="ddlBrandDoseUnit" ng-init="ddlBrandDoseUnit=0">
                                            <option value="0">--Select--</option>
                                            <option ng-repeat="list in unitList" value="{{list.id}}">
                                                {{list.unitName}}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group col-md-12">
                                <div class="row">
                                    <div class="col-md-6">
                                        <label> Company Name</label>
                                        <input company-auto-complete type="text" class="form-control" ng-model="companyName" placeholder="Company Name" />
                                    </div>
                                    <div class="col-md-2">
                                        <label> Capacity</label>
                                        <input type="text" class="form-control" ng-model="capacity" placeholder="Capacity" onkeypress="isNumeric(true);" />
                                    </div>
                                    <div class="col-md-2">
                                        <label> Capacity Unit</label>
                                        <select select2 class="form-control" ng-model="ddlCapacityUnit" ng-init="ddlCapacityUnit=0">
                                            <option value="0">--Select--</option>
                                            <option ng-repeat="list in unitList" value="{{list.id}}">
                                                {{list.unitName}}
                                            </option>
                                        </select>
                                    </div>
                                    <div class="col-md-2">
                                        <label> Price</label>
                                        <input type="text" class="form-control" ng-model="price" placeholder="Price" onkeypress="isNumeric(true);" />
                                    </div>
                                </div>
                            </div>

                            <div class="form-group col-md-12">
                                <fieldset style="padding: 20px 30px 0px;">
                                    <legend>Medicine Details</legend>
                                    <div class="row">
                                        <div class="col-md-5">
                                            <select select2 class="form-control" id="ddlMedicine" ng-model="ddlMedicine" ng-init="ddlMedicine=0">
                                                <option value="0">--Select Medicine--</option>
                                                <option ng-repeat="list in medicineList" value="{{list.id}}">
                                                    {{list.medicineName}}
                                                </option>
                                            </select>
                                        </div>
                                        <div class="col-md-3">
                                            <input type="text" class="form-control" ng-model="medicineDose" placeholder="Dose" onkeypress="isNumeric(true);" />
                                        </div>
                                        <div class="col-md-3">
                                            <select select2 class="form-control" id="ddlMedicineDoseUnit" ng-model="ddlMedicineDoseUnit" ng-init="ddlMedicineDoseUnit=0">
                                                <option value="0">--Select Unit--</option>
                                                <option ng-repeat="list in unitList" value="{{list.id}}">
                                                    {{list.unitName}}
                                                </option>
                                            </select>
                                        </div>
                                        <div class="col-md-1 noPadding">
                                            <button class="btn btn-xs btn-info" ng-click="Add()">
                                                <span class="glyphicon glyphicon-plus"></span>Add
                                            </button>
                                        </div>
                                    </div>
                                    <div class="form-group col-md-12">
                                        <div class="row" ng-if="medicineAssignList.length >0" style="padding-top:5px">
                                            <div class="col-md-12 col-sm-12 noPadding table table-sm table-responsive table-border">
                                                <table id="tableCalculators" class="table table-bordered marginTop1rem">
                                                    <thead>
                                                        <tr>
                                                            <th>Medicine Name</th>
                                                            <th>Medicine Dose</th>
                                                            <th>Dose Unit</th>
                                                            <th>Action</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat="list in medicineAssignList" ng-class-odd="'striped'">
                                                            <td>{{list.medicineName}}</td>
                                                            <td>{{list.medicineDose}}</td>
                                                            <td>{{list.doseUnit}}</td>
                                                            <td><a href="" ng-click="Remove($index)" title="Remove"><i class="fa fa-trash" aria-hidden="true"></i></a></td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </fieldset>
                            </div>

                            <div class="form-group col-md-12">
                                <div class="row">
                                    <div class="col-md-12">
                                        <label> URL</label>
                                        <textarea class="form-control" ng-model="txtURL" placeholder="URL...." />
                                    </div>
                                </div>
                            </div>
                            <div class="form-group col-md-12">
                                <fieldset>
                                    <legend>Reference</legend>
                                    <div class="row">

                                        <div class="col-md-4">
                                            <select class="form-control" ng-model="ddlBook" ng-init="ddlBook=0" required="">
                                                <option value="0">--Select Book--</option>
                                                <option ng-repeat="list in bookList" value="{{list.id}}">
                                                    {{list.bookName}}
                                                </option>
                                            </select>
                                        </div>

                                        <div class="col-md-4"><input type="text" class="form-control" placeholder="Page No." ng-model="txtPageNo" /></div>
                                        <div class="col-md-4">
                                            <input type="text" class="form-control" placeholder="Edition" ng-model="txtEdition" onkeypress="isNumeric(true)" />
                                        </div>
                                    </div>
                                </fieldset>
                            </div>
                            <div class="form-group col-md-12">
                                <div class="row">
                                    <div class="col-md-1"><input type="button" class="btn btn-success" value="Save" ng-click="saveBrandMedicineAssign();" /></div>
                                    <div class="col-md-1"><input type="button" class="btn btn-danger" value="Reset" ng-click="reset();" /></div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="panel panel-info">
                <div class="panel-heading">
                    Medicine Brand List
                </div>
                <div class="panel-body">
                    <form name="form">
                        <div class="form-row">
                            <div class=" form-row col-md-12 col-sm-12">
                                <div class="row">
                                    <div class="input-group">
                                        <input type="text" class="form-control" placeholder="Search for..." aria-describedby="basic-addon2" ng-model="search">
                                        <span class="input-group-addon" id="basic-addon2"><i class="fa fa-search" aria-hidden="true"></i></span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12 col-sm-12 padding1rem table table-sm table-responsive table-border" style="max-height:100vh;">
                                <table id="tableDiseaseMaster" class="table table-bordered">
                                    <thead style="white-space: nowrap;">
                                        <tr>
                                            <th>#</th>
                                            <th>Brand</th>
                                            <th>Full Name</th>
                                            <th>Dose Form</th>
                                            <th>Dose</th>
                                            <th>Medicine Details</th>
                                            <th>Company</th>
                                            <th>Capacity</th>
                                            <th>Price</th>
                                            <th>Book Reference</th>
                                            <th>URL</th>
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="list in brandMedicineAssignList | filter : search" ng-class-odd="'striped'">
                                            <td>{{$index+1}}</td>
                                            <td>{{list.brandName}}</td>
                                            <td>{{list.fullName}}</td>
                                            <td>{{list.doseForm}}</td>
                                            <td>{{list.brandDose}}</td>
                                            <td>
                                                <table class="table table-bordered">
                                                    <thead>
                                                        <tr>
                                                            <th>Medicine</th>
                                                            <th>Dose</th>
                                                            <th>Action</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat="medList in list.medicineAssignList">
                                                            <td>{{medList.medicineName}}</td>
                                                            <td>{{medList.dose}}</td>
                                                            <td> <a href="" ng-click="deleteMedicineAssign(medList.id)" title="Delete"><i class="fa fa-trash" aria-hidden="true"></i></a></td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </td>
                                            <td>{{list.companyName}}</td>
                                            <td>{{list.capacity}}</td>
                                            <td>{{list.price}}</td>
                                            <td>{{list.bookReference}}</td>
                                            <td>{{list.refURL}}</td>
                                            <td>
                                                <a href="" ng-click="edit(list.id)" title="Edit"><i class="fa fa-edit"></i></a> |
                                                <a href="" ng-click="delete(list.id)" title="Delete"><i class="fa fa-trash" aria-hidden="true"></i></a>
                                            </td>
                                        </tr>
                                    </tbody>
                                    <tfoot>
                                        <tr>
                                            <td align="center" colspan="12">
                                                <span class="form-group pull-left page-size form-inline">
                                                    <select id="ddlPageSize" class="form-control control-color"
                                                            ng-model="pageSizeSelected"
                                                            ng-change="changePageSize()">
                                                        <option value="500">500</option>
                                                        <option value="1000">1000</option>
                                                        <option value="2000">2000</option>
                                                        <option value="5000">5000</option>
                                                        <option value="10000">10000</option>
                                                        <option value="20000">20000</option>
                                                    </select>
                                                </span>
                                                <div class="pull-right">
                                                    <pagination total-items="totalCount" ng-change="pageChanged()" items-per-page="pageSizeSelected" direction-links="true" ng-model="pageIndex" max-size="maxSize" class="pagination" boundary-links="true" rotate="false" num-pages="numPages"></pagination>
                                                    <a class="btn btn-primary">Page: {{pageIndex}} / {{numPages}}</a>
                                                </div>
                                            </td>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>